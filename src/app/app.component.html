<form (ngSubmit)="onSubmit()"
      [formGroup]="form"
      novalidate>

  <div class="form-group">
    <input
           type="text"
           placeholder="search"
           formControlName="commit"
           class="form-control"
           [appTypeahead]="test"
           [displayWith]="displayFn">

    <app-typeahead #test>
      <app-typeahead-option *ngFor="let commit of (filteredOptions | async)" [value]="commit.commit">
        <span class="message">{{commit.commit.message}}</span>
        <span class="sha">{{commit.sha}}</span>
      </app-typeahead-option>
    </app-typeahead>
  </div>
</form>

<pre [class.valid]="form.valid" class="form-value">
Form is {{form.valid ? 'VALID' : 'INVALID! Type something in the box above to select a commit'}}

{{form.value|json}}</pre>


<!--<pre>{{formMd.value | json}}-->
<!--valid: {{formMd.valid}}</pre>-->
<!--<form (ngSubmit)="onSubmit()"-->
      <!--[formGroup]="formMd"-->
      <!--novalidate>-->

  <!--<div class="form-group">-->
    <!--<input type="text" mdInput formControlName="commit" class="form-control" [mdAutocomplete]="auto">-->
  <!--</div>-->

  <!--<md-autocomplete #auto="mdAutocomplete" [displayWith]="displayFn">-->
    <!--<md-option *ngFor="let commit of (filteredOptionsMd | async)" [value]="commit.commit">-->
    <!--</md-option>-->
  <!--</md-autocomplete>-->
<!--</form>-->
